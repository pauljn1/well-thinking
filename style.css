/* --- LE RESTE DE TON CSS RESTE PAREIL (HEADER, MAIN, ETC.) --- */
/* ... Copie tout ton CSS existant ici ... */
/* ... Je te remets juste les bases nécessaires + le nouveau code ... */

* { margin: 0; padding: 0; box-sizing: border-box; font-family: "Segoe UI", sans-serif; }
:root { --primary: #cc6699; --primary-soft: #f4c2d7; --background: #fff7fb; --border: #f1c7da; --danger: #ff6b6b; }
body { min-height: 100vh; background: var(--background); color: #3a2a32; overflow: hidden; display: flex; flex-direction: column; }
header { height: 70px; background: linear-gradient(135deg, var(--primary), #e58bb6); padding: 0 2rem; display: flex; align-items: center; z-index: 10; }
header h1 { color: white; font-size: 1.5rem; }
main { flex: 1; display: flex; padding: 1.5rem; gap: 1.5rem; height: calc(100vh - 70px); }
#toolbar { width: 260px; background: white; border-radius: 20px; padding: 1.5rem; border: 1px solid var(--border); display: flex; flex-direction: column; gap: 0.8rem; }
.tool-title { font-size: 0.8rem; font-weight: 800; color: var(--primary); text-transform: uppercase; }
.tool-btn { display: flex; align-items: center; gap: 1rem; padding: 0.8rem; border: none; background: transparent; cursor: pointer; color: #555; font-weight: 600; }
.tool-btn:hover { color: var(--primary); background: #fdf0f6; border-radius: 10px; }
#canvas-container { flex: 1; position: relative; background: radial-gradient(#e6aebf 1px, transparent 1px); background-size: 20px 20px; background-color: #fff0f5; border-radius: 20px; overflow: hidden; border: 1px solid var(--border); }
#canvas-actions { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: white; padding: 0.5rem 1rem; border-radius: 50px; display: flex; gap: 10px; border: 1px solid var(--border); z-index: 100; }
#canvas-actions button { border: none; background: transparent; cursor: pointer; color: var(--primary); font-weight: 600; }
.slide { position: absolute; width: 260px; min-height: 150px; background: white; border-radius: 16px; border: 1px solid var(--border); box-shadow: 0 10px 25px rgba(0,0,0,0.05); display: flex; flex-direction: column; }
.slide.selected { outline: 3px solid var(--primary); z-index: 50; }
.slide-header { background: var(--primary-soft); padding: 0.8rem; border-radius: 15px 15px 0 0; display: flex; justify-content: space-between; font-weight: 700; color: #a0406b; }
.handle { cursor: grab; }
.slide-body { padding: 1rem; cursor: text; flex: 1; }
.slide-body:focus, .slide-header span:focus { outline: none; background: rgba(255,255,255,0.8); }


/* =========================================
   NOUVEAU : STYLE DE L'APERÇU (PREVIEW)
========================================= */
#preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(45, 52, 54, 0.95); /* Fond sombre style cinéma */
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(5px);
}

/* Classe utilitaire pour cacher l'overlay */
.hidden { display: none !important; }

/* La slide en mode "Présentation" (Grande carte) */
#preview-card {
    width: 800px;
    height: 500px;
    background: white;
    border-radius: 20px;
    padding: 3rem;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    animation: zoomIn 0.3s ease;
}

#p-title {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 1.5rem;
    font-weight: 800;
}

#p-body {
    font-size: 1.5rem;
    color: #555;
    line-height: 1.6;
}

/* Boutons de contrôle (Bas) */
.preview-controls {
    margin-top: 2rem;
    display: flex;
    align-items: center;
    gap: 2rem;
    color: white;
    font-size: 1.2rem;
}

.preview-controls button {
    background: var(--primary);
    border: none;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    font-size: 1.2rem;
    transition: transform 0.2s;
}
.preview-controls button:hover { transform: scale(1.1); background: #e84393; }

/* Bouton Fermer (Haut droite) */
#close-preview {
    position: absolute;
    top: 30px;
    right: 30px;
    background: rgba(255,255,255,0.1);
    border: 2px solid rgba(255,255,255,0.3);
    color: white;
    padding: 10px 20px;
    border-radius: 30px;
    cursor: pointer;
    font-weight: 600;
}
#close-preview:hover { background: rgba(255,255,255,0.2); }

@keyframes zoomIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}